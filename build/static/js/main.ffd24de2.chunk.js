(this["webpackJsonpreact-complete-guide"]=this["webpackJsonpreact-complete-guide"]||[]).push([[0],{11:function(e,t,a){},14:function(e,t,a){"use strict";a.r(t);var n=a(5),c=a.n(n),l=(a(11),a(4)),r=a.n(l),s=a(6),i=a(2),o=a(1),d=a.n(o),u=a(0),j=function(e){return Object(u.jsx)(d.a.Fragment,{children:Object(u.jsxs)("tr",{children:[Object(u.jsx)("th",{className:"col-sm-2",children:"Carpark"}),Object(u.jsx)("th",{className:"col-sm-2",children:"Category"}),Object(u.jsx)("th",{className:"col-sm-2",children:"Weekdays Rate 1"}),Object(u.jsx)("th",{className:"col-sm-2",children:"Weekdays Rate 2"}),Object(u.jsx)("th",{className:"col-sm-2",children:"Saturday Rate"}),Object(u.jsx)("th",{className:"col-sm-2",children:"Sunday and Public Holiday Rate"})]})})},b=function(e){return Object(u.jsx)(d.a.Fragment,{children:e.info&&e.info.map((function(t,a){return"All"===e.select||t.category===e.select?Object(u.jsxs)("tr",{tr:!0,children:[Object(u.jsx)("td",{children:t.carpark}),Object(u.jsx)("td",{children:t.category}),Object(u.jsx)("td",{children:t.weekdays_rate_1}),Object(u.jsx)("td",{children:t.weekdays_rate_2}),Object(u.jsx)("td",{children:t.saturday_rate}),Object(u.jsx)("td",{children:t.sunday_publicholiday_rate})]},a):void 0}))})},h=function(e){return Object(u.jsx)("div",{children:Object(u.jsxs)("table",{id:"myTable",className:"table table-bordered",children:[Object(u.jsx)(j,{info:e.info}),Object(u.jsx)(b,{info:e.info,select:e.select})]})})},m=function(e){return Object(u.jsx)(d.a.Fragment,{children:Object(u.jsx)("input",{type:e.type,id:e.id,placeholder:e.placeholder,onKeyUp:function(t){e.handleChange(t.target.value)}})})},O=function(e){return Object(u.jsx)(d.a.Fragment,{children:Object(u.jsxs)("select",{name:"category",id:"category",onChange:function(t){e.handleSelect(t.target.value)},children:[Object(u.jsx)("option",{value:"All",children:"All"}),Object(u.jsx)("option",{value:"Central, North & North East",children:"Central, North & North East"}),Object(u.jsx)("option",{value:"East",children:"East"}),Object(u.jsx)("option",{value:"Hotels",children:"Hotels"}),Object(u.jsx)("option",{value:"Orchard Area",children:"Orchard Area"}),Object(u.jsx)("option",{value:"Singapore Attractions",children:"Singapore Attractions"}),Object(u.jsx)("option",{value:"South & CBD",children:"South & CBD"}),Object(u.jsx)("option",{value:"West",children:"West"})]})})},p=function(e){return Object(u.jsx)(d.a.Fragment,{children:Object(u.jsx)("button",{type:e.type,className:e.className,value:e.value,onClick:function(t){e.handleSubmit(t.target.value)},children:e.name})})},y=function(e){return Object(u.jsxs)(d.a.Fragment,{children:[Object(u.jsx)(m,{type:"text",id:"myInput",placeholder:"Search carpark(s)",handleChange:e.handleChange}),Object(u.jsx)(O,{handleSelect:e.handleSelect}),Object(u.jsx)(p,{className:"button",type:"submit",name:"Weekday Day Time",value:"2",handleSubmit:e.handleSubmit}),Object(u.jsx)(p,{className:"button",type:"submit",name:"Weekday Night Time",value:"3",handleSubmit:e.handleSubmit}),Object(u.jsx)(p,{className:"button",type:"submit",name:"Saturday",value:"4",handleSubmit:e.handleSubmit}),Object(u.jsx)(p,{className:"button",type:"submit",name:"Sunday",value:"5",handleSubmit:e.handleSubmit}),Object(u.jsx)(p,{className:"button",type:"submit",name:"Public Holiday",value:"5",handleSubmit:e.handleSubmit}),Object(u.jsx)(p,{className:"indication",type:"button",name:"Indicates current rate",handleSubmit:e.handleSubmit})]})},x=function(){var e=Object(o.useState)(""),t=Object(i.a)(e,2),a=(t[0],t[1]),n=Object(o.useState)("All"),c=Object(i.a)(n,2),l=c[0],d=c[1],j=Object(o.useState)(""),b=Object(i.a)(j,2),m=b[0],O=b[1],p=Object(o.useState)(!0),x=Object(i.a)(p,2),v=x[0],S=x[1],g=new Date,f=(g.toString(),Object(o.useState)(g)),_=Object(i.a)(f,2),k=_[0],w=_[1],N=Object(o.useState)(k.toDateString()),C=Object(i.a)(N,2),D=(C[0],C[1],Object(o.useState)(k.toLocaleTimeString())),A=Object(i.a)(D,2),q=(A[0],A[1],Object(o.useState)(g.getDay())),I=Object(i.a)(q,2),E=I[0],F=(I[1],Object(o.useState)(g.getHours())),T=Object(i.a)(F,2),W=T[0],H=T[1],R=Object(o.useState)(""),B=Object(i.a)(R,2),U=B[0],J=B[1],P=(k.toDateString(),function(){var e=Object(s.a)(r.a.mark((function e(){var t,a,n;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"https://data.gov.sg/api/action/datastore_search?resource_id=85207289-6ae7-4a56-9066-e6090a3684a5&limit=357",e.prev=1,e.next=4,fetch("https://data.gov.sg/api/action/datastore_search?resource_id=85207289-6ae7-4a56-9066-e6090a3684a5&limit=357");case 4:return t=e.sent,e.next=7,t.json();case 7:a=e.sent,n=a.result.records,O(n),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(1),console.log(e.t0);case 15:S(!v);case 16:case"end":return e.stop()}}),e,null,[[1,12]])})));return function(){return e.apply(this,arguments)}}());return Object(o.useEffect)((function(){P(),S(!v)}),[]),Object(u.jsxs)("div",{children:[Object(u.jsx)("h2",{children:"Carpark Rates (for major shopping malls, attractions and hotels)"}),Object(u.jsx)(y,{handleChange:function(e){a(e);for(var t=document.querySelector("#myInput").value.toUpperCase(),n=document.querySelector("#myTable").querySelectorAll("tr"),c="",l=0;l<n.length;l++)(c=n[l].querySelectorAll("td")[0])&&((c.textContent||c.innerText).toUpperCase().indexOf(t)>-1?n[l].style.display="":n[l].style.display="none");for(var r=1;r<n.length;r++)for(var s,i,o,d,u,j,b,h=("12am"===(null===(s=m[17])||void 0===s?void 0:s.weekdays_rate_1.substring(0,null===(i=m[17])||void 0===i?void 0:i.weekdays_rate_1.indexOf("-")))?0:parseInt(null===(o=m[17])||void 0===o?void 0:o.weekdays_rate_1.substring(0,null===(d=m[17])||void 0===d?void 0:d.weekdays_rate_1.indexOf("-")).replace(/\D/g,"")))<=W,O=parseInt(null===(u=m[r-1])||void 0===u?void 0:u.weekdays_rate_1.substring(null===(j=m[r-1])||void 0===j?void 0:j.weekdays_rate_1.indexOf("-"),null===(b=m[r-1])||void 0===b?void 0:b.weekdays_rate_1.indexOf(":")).replace(/\D/g,""))+12>=W,p=2;p<=5;p++){var y,x;if(E===U)(null===(y=m[r-1])||void 0===y?void 0:y.weekdays_rate_1.includes("Daily"))||(null===(x=m[r-1])||void 0===x?void 0:x.weekdays_rate_1.includes("Mon"))||h&&O?n[r].querySelectorAll("td")[U].style.background="yellow":n[r].querySelectorAll("td")[p].style.background=""}console.log(n[1].querySelectorAll("td")[2]),console.log(U),S(!v)},handleSelect:function(e){S(!v),d(e)},handleSubmit:function(e){2===(e=parseInt(e))?H(10):3===e?H(19):4===e?w(new Date("September 11, 2021 09:00:00")):5===e?w(new Date("September 12, 2021 14:00:00")):6===e&&w(new Date("December 25, 2021 09:00:00")),J(e),S(!v)}}),Object(u.jsx)(h,{info:m,select:l})]})};c.a.render(Object(u.jsx)(x,{}),document.getElementById("root"))}},[[14,1,2]]]);
//# sourceMappingURL=main.ffd24de2.chunk.js.map